{% extends 'base.html' %}


{% block title %} inicio {%endblock%}

{% block content %}


{% load static %}
<script src="https://cdn.jsdelivr.net/npm/sweetalert2@11"></script>
<link rel="stylesheet" href="{% static 'css/buzon.css' %}">




<div class="container6">
    <form id="formulario" method="POST" action="{% url 'sugerencia' %}">
        <h2>Buzón de sugerencias</h2>
        {% csrf_token %}
        <div>
            {% if messages %}
                <div class="messages">
                    {% for message in messages %}
                        <p style="color: rgb(255, 255, 255);">{{ message }}</p>
                    {% endfor %}
                </div>
            {% endif %}
            
            <input type="text" name="username" placeholder="Nombre" required>
            <input type="email" name="email" placeholder="Correo electrónico" required>
            <input type="email" name="email" placeholder="Correo electrónico" required>
            <input type="tel" name="phone_number" placeholder="Número de Celular (+573001234567)" 
                   pattern="^\+?57\d{10}$" 
                   title="Ingrese un número de celular colombiano válido. Ejemplo: +573001234567" 
                   required>
            
            <input type="text" name="section_text" placeholder="Déjanos tu mensaje aquí" required>
            
            <button type="submit">Enviar</button>
        </div>
    </form>
</div>


<script>
    document.addEventListener("DOMContentLoaded", function() {
        document.getElementById("formulario").addEventListener("submit", function(event) {
            event.preventDefault(); // Evita el envío inmediato del formulario
    
            Swal.fire({
                title: "¿Estás seguro que deseas enviar tu sugerencia?",
                text: "No podrás revertir esto.",
                icon: "warning",
                showCancelButton: true,
                confirmButtonColor: "#3085d6",
                cancelButtonColor: "#d33",
                confirmButtonText: "confirmar",
                cancelButtonText: "Cancelar"
            }).then((result) => {
                if (result.isConfirmed) {
                    Swal.fire({
                        title: "¡Enviado!",
                        text: "Tu sugerencia ha sido enviada con éxito.",
                        icon: "success"
                    }).then(() => {
                        event.target.submit(); // Envía el formulario después de mostrar el mensaje de éxito
                    });
                }
            });
        });
    });
    </script>
    



<!-- <div class="container6">
    <form method="POST" action="{% url 'sugerencia' %}">
        <h2>Buzón de sugerencias</h2>
        {% csrf_token %}
        <div>
            {% if messages %}
                <div class="messages">
                    {% for message in messages %}
                        <p style="color: rgb(255, 255, 255);">{{ message }}</p>
                    {% endfor %}
                </div>
            {% endif %}
            
            <input type="text" name="username" placeholder="Nombre" required>
            <input type="email" name="email" placeholder="Tu correo electrónico" required>
            
            <input type="email" name="email" placeholder="Correo Electrónico" required>
            
            <input type="tel" name="phone_number" placeholder="Número de Celular (+573001234567)" 
                   pattern="^\+?57\d{10}$" 
                   title="Ingrese un número de celular colombiano válido. Ejemplo: +573001234567" 
                   required>
            
            <input type="text" name="section_text" placeholder="Déjanos tu mensaje aquí" required>
            
            <button type="submit">Enviar</button>
        </div>
    </form>
</div>

<script>
    document.addEventListener("DOMContentLoaded", function() {
        document.getElementById("sugerencia").addEventListener("submit", function(event) {
            event.preventDefault(); // Evita el envío inmediato del formulario
    
            Swal.fire({
                title: "¿Estás seguro que deseas enviar tu sugerencia?",
                text: "No podrás revertir esto.",
                icon: "warning", 
                showCancelButton: true,
                confirmButtonColor: "#3085d6",
                cancelButtonColor: "#d33",
                confirmButtonText: "Confirmar"
            }).then((result) => {
                if (result.isConfirmed) {
                    Swal.fire({
                        title: "Enviado",
                        text: "Tu sugerencia ha sido enviada con éxito.",
                        icon: "success"
                    }).then(() => {
                        event.target.submit(); 
                    });
                }
            });
        });
    });
    </script>
     -->


<!-- <script>
    Swal.fire({
  title: "¿Estás seguro que deseas enviar tu sugerencia?",
  text: "No podrás revertir esto.",
  icon: "Confirmar",
  showCancelButton: true,
  confirmButtonColor: "#3085d6",
  cancelButtonColor: "#d33",
  confirmButtonText: "Confirmar"
}).then((result) => {
  if (result.isConfirmed) {
    Swal.fire({
      title: "Denegar",
      text: "Your file has been deleted.",
      icon: "success"
    });
  }
});
</script> -->



{% endblock %}